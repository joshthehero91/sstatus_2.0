(BOLD='\e[1m';LBLU='\e[94m';NC='\e[0m';echo "";echo -e "${BOLD}${LBLU}MySQL Version:${NC}";mysql --version;echo "";echo -e "${BOLD}${LBLU}MySQL data usage:${NC}";mysql -Bse 'show variables like "datadir";'|awk '{print $2}'|xargs -I{} find {} -type f -printf "%s %f\n"|awk -F'[ ,.]' '{print $1, $NF}'|awk '{array[$2]+=$1} END {for (i in array) {printf("%-15s %s\n", sprintf("%.3f MB", array[i]/1048576), i)}}' | egrep --color=none '(MYI|ibd)'; echo "";echo -e "${BOLD}${LBLU}Note:${NC} Set innodb_buffer_pool_size based on the sum of 'ibd' and 'ibdata1', and set key_buffer_size based on the total listed for 'MYI'. See here for reference --> http://hostbaitor.com/mysql/performance#mysql-configuration .";echo ""; echo -e "${BOLD}${LBLU}Try to set buffers to the following:${NC}";mysql -Bse 'show variables like "datadir";'|awk '{print $2}'|xargs -I{} find {} -type f -printf "%s %f\n"|awk -F'[ ,.]' '{print $1, $NF}'|awk '{array[$2]+=$1} END {for (i in array) {printf("%-15s %s\n", sprintf("%.3f MB", array[i]/1048576), i)}}' | awk '{if($3~/MYI/)print"key_buffer_size\t\t",$1"M"};{if($3~/ibd/)a+=$1}END{print "innodb_buffer_pool_size\t",a"M"}';echo "";echo -e "${BOLD}${LBLU}Important MySQL configurations:${NC}";grep --color=none "max_connections\|key_buffer\|max_allowed_packet\|innodb_buffer_pool_size" /etc/my.cnf; mysql -e "SHOW GLOBAL STATUS;"|grep --color=none Max_used_;echo "";echo -e "${BOLD}${LBLU}Current MySQL queries:${NC}";mysqladmin proc stat;echo "";)